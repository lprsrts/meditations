import{j as v}from"./jsx-runtime.D_zvdyIk.js";import{r as c}from"./index.BVOCwoKb.js";function R(){const h=c.useRef(null),[d,m]=c.useState(!1);return c.useEffect(()=>{const n=document.documentElement.getAttribute("data-theme")||"light";m(n==="dark");const r=s=>{m(s.detail.isDarkMode)};window.addEventListener("themeChange",r);const a=()=>{const s=localStorage.getItem("theme")||"light";m(s==="dark")};return window.addEventListener("storage",a),()=>{window.removeEventListener("themeChange",r),window.removeEventListener("storage",a)}},[]),c.useEffect(()=>{const n=h.current;if(!n)return;const r=n.getContext("2d");if(!r)return;const a=()=>{n.width=window.innerWidth,n.height=window.innerHeight};a(),window.addEventListener("resize",a);const s=o=>getComputedStyle(document.documentElement).getPropertyValue(o).trim(),g=s("--color-accent"),C=s("--color-neutral"),p=window.innerWidth*window.innerHeight<5e5?2:3;let i;const w=[];for(let o=0;o<p;o++){const e=(t,u)=>{if(!t||t==="")return d?`rgba(116, 141, 146, ${u})`:`rgba(18, 78, 102, ${u})`;t.length===4&&(t="#"+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);const y=parseInt(t.slice(1,3),16),M=parseInt(t.slice(3,5),16),b=parseInt(t.slice(5,7),16);return`rgba(${y}, ${M}, ${b}, ${u})`};w.push({x:Math.random()*n.width,y:Math.random()*n.height,size:100+Math.random()*300,vx:(Math.random()-.5)*.3,vy:(Math.random()-.5)*.3,color:d?e(C,.1+Math.random()*.1):e(g,.05+Math.random()*.06)})}let f=0;const E=30,l=o=>{if(o-f<1e3/E){i=requestAnimationFrame(l);return}f=o,r.clearRect(0,0,n.width,n.height),w.forEach(e=>{e.x+=e.vx,e.y+=e.vy,(e.x<0||e.x>n.width)&&(e.vx*=-1),(e.y<0||e.y>n.height)&&(e.vy*=-1);const t=r.createRadialGradient(e.x,e.y,0,e.x,e.y,e.size);t.addColorStop(0,e.color),t.addColorStop(1,"transparent"),r.fillStyle=t,r.fillRect(0,0,n.width,n.height)}),i=requestAnimationFrame(l)};return i=requestAnimationFrame(l),()=>{window.removeEventListener("resize",a),cancelAnimationFrame(i)}},[d]),v.jsx("div",{className:"background-container",children:v.jsx("canvas",{ref:h,className:"gradient-canvas"})})}export{R as default};
